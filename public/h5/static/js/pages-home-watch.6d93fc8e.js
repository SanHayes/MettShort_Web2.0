(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["pages-home-watch"],{2082:function(t,e,n){var i=n("5a88");i.__esModule&&(i=i.default),"string"===typeof i&&(i=[[t.i,i,""]]),i.locals&&(t.exports=i.locals);var a=n("4f06").default;a("221b73c0",i,!0,{sourceMap:!1,shadowMode:!1})},"3b16":function(t,e,n){"use strict";var i=n("2082"),a=n.n(i);a.a},5153:function(t,e,n){"use strict";n("7a82"),Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0,n("a9e3");var i=!1,a={name:"CustomVideoList",data:function(){return{dataList:[],firstLoaded:!1,isCurrentPage:!1}},props:{tabIndex:{type:Number,default:function(){return 0}},currentIndex:{type:Number,default:function(){return 0}},currentId:{type:Number,default:function(){return 0}},currentType:{type:String,default:function(){return""}}},watch:{currentIndex:{handler:function(t){var e=this;t===this.tabIndex&&(this.firstLoaded||this.$nextTick((function(){setTimeout((function(){e.isCurrentPage=!0}),100)})),0==t?i=!1:i&&this.queryList(1,10))},immediate:!0}},methods:{handleCollect:function(t,e,n){var a=this;if(0==e){var r={vid:t,type:"favorite"};this.$request("video.addRecord",r,!1).then((function(t){1===t.code&&(a.dataList[n].is_favorite=1)}))}else{var o={ids:t,type:"favorite"};this.$request("video.deleteRecord",o,!1).then((function(t){1===t.code&&(a.dataList[n].is_favorite=0)}))}i=!0},queryList:function(t,e){var n=this,i={type:this.currentType,page:t,pagesize:e};this.$request("video.getRecord",i).then((function(t){n.$refs.paging.complete(t.data),n.firstLoaded=!0})).catch((function(t){n.$refs.paging.complete(!1)}))}}};e.default=a},"5a88":function(t,e,n){var i=n("24fb");e=i(!1),e.push([t.i,'@charset "UTF-8";\r\n/**\r\n * 这里是uni-app内置的常用样式变量\r\n *\r\n * uni-app 官方扩展插件及插件市场（https://ext.dcloud.net.cn）上很多三方插件均使用了这些样式变量\r\n * 如果你是插件开发者，建议你使用scss预处理，并在插件代码中直接使用这些变量（无需 import 这个文件），方便用户通过搭积木的方式开发整体风格一致的App\r\n *\r\n */\r\n/**\r\n * 如果你是App开发者（插件使用者），你可以通过修改这些变量来定制自己的插件主题，实现自定义主题功能\r\n *\r\n * 如果你的项目同样使用了scss预处理，你也可以直接在你的 scss 代码中使用如下变量，同时无需 import 这个文件\r\n */\r\n/* 颜色变量 */\r\n/* 行为相关颜色 */\r\n/* 文字基本颜色 */\r\n/* 背景颜色 */\r\n/* 边框颜色 */\r\n/* 尺寸变量 */\r\n/* 文字尺寸 */\r\n/* 图片尺寸 */\r\n/* Border Radius */\r\n/* 水平间距 */\r\n/* 垂直间距 */\r\n/* 透明度 */\r\n/* 文章场景相关 */\r\n/* 注意: 父节点需要固定高度，z-paging的height:100%才会生效 */.content[data-v-4a11d360]{height:100%}.content_box[data-v-4a11d360]{padding:%?20?% %?40?% %?60?% %?40?%}.content_box .list .item[data-v-4a11d360]{margin-bottom:%?40?%;display:flex;align-items:center}.content_box .list .item .img[data-v-4a11d360]{width:%?206?%;height:%?276?%;border-radius:%?20?%;overflow:hidden;background:#e6e6e6}.content_box .list .item .img .image[data-v-4a11d360]{width:100%;height:100%}.content_box .list .item .info[data-v-4a11d360]{flex:1;margin-left:%?40?%}.content_box .list .item .info .title[data-v-4a11d360]{font-size:%?32?%;color:#000;font-weight:700}.content_box .list .item .info .text1[data-v-4a11d360]{height:%?68?%;font-size:%?24?%;color:#666;margin-top:%?4?%;line-height:%?34?%;margin:%?10?% 0}.content_box .list .item .info .text2[data-v-4a11d360]{font-size:%?24?%;color:#111;line-height:%?34?%}.content_box .list .item .info .btns[data-v-4a11d360]{margin-top:%?20?%;display:flex;align-items:center;justify-content:space-between}.content_box .list .item .info .btns .button[data-v-4a11d360]{width:calc((100% - %?30?%) / 2);height:%?60?%;display:flex;align-items:center;justify-content:center;font-size:%?28?%;background:#484b52;border-radius:%?10?%;color:#fff}.content_box .list .item .info .btns .button.collect[data-v-4a11d360]{opacity:.6}.content_box .list .item .info .btns .button.active[data-v-4a11d360]{background:rgba(0,0,0,.9)}.content_box .list .item .info .btns .button .text[data-v-4a11d360]{margin-left:%?8?%}',""]),t.exports=e},"65ee":function(t,e,n){"use strict";n.d(e,"b",(function(){return a})),n.d(e,"c",(function(){return r})),n.d(e,"a",(function(){return i}));var i={zPagingSwiper:n("7949").default,zTabs:n("9f30").default},a=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("z-paging-swiper",{scopedSlots:t._u([{key:"top",fn:function(){return[n("v-uni-view",{},[n("CustomNavbar",{attrs:{left:0,title:t.$t("navbar.watch")}}),n("z-tabs",{ref:"tabs",attrs:{list:t.contentList,current:t.contentIndex,"active-color":"#ee7f33","inactive-color":"#999","active-style":{fontWeight:"bold"},"bg-color":"transparent"},on:{change:function(e){arguments[0]=e=t.$handleEvent(e),t.tabsChange.apply(void 0,arguments)}}})],1)]},proxy:!0}])},[n("v-uni-swiper",{staticClass:"swiper",attrs:{current:t.contentIndex},on:{change:function(e){arguments[0]=e=t.$handleEvent(e),t.swiperChange.apply(void 0,arguments)},transition:function(e){arguments[0]=e=t.$handleEvent(e),t.swiperTransition.apply(void 0,arguments)},animationfinish:function(e){arguments[0]=e=t.$handleEvent(e),t.swiperAnimationfinish.apply(void 0,arguments)}}},t._l(t.contentList,(function(e,i){return n("v-uni-swiper-item",{key:i,staticClass:"swiper-item"},[n("CustomVideoList",{attrs:{tabIndex:i,currentIndex:t.contentIndex,currentId:t.contentList[t.contentIndex].id,currentType:t.contentList[t.contentIndex].type}})],1)})),1),n("CustomLogin"),n("CustomTabbar",{attrs:{selected:1}})],1)},r=[]},"871e":function(t,e,n){"use strict";n.r(e);var i=n("b79a"),a=n.n(i);for(var r in i)["default"].indexOf(r)<0&&function(t){n.d(e,t,(function(){return i[t]}))}(r);e["default"]=a.a},a4e5:function(t,e,n){"use strict";var i=n("c46d"),a=n.n(i);a.a},a6d2:function(t,e,n){"use strict";n.d(e,"b",(function(){return a})),n.d(e,"c",(function(){return r})),n.d(e,"a",(function(){return i}));var i={zPaging:n("d08c").default,uIcon:n("5f9d").default},a=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("v-uni-view",{staticClass:"content"},[t.firstLoaded||t.isCurrentPage?n("z-paging",{ref:"paging",attrs:{fixed:!1,"refresher-default-text":t.$t("zp.refresh.default"),"refresher-pulling-text":t.$t("zp.refresh.pulling"),"refresher-refreshing-text":t.$t("zp.refresh.refreshing"),"refresher-complete-text":t.$t("zp.refresh.complete"),"loading-more-default-text":t.$t("zp.loading.default"),"loading-more-loading-text":t.$t("zp.loading.loading"),"loading-more-no-more-text":t.$t("zp.loading.nomore"),"loading-more-fail-text":t.$t("zp.loading.fail"),"loading-more-no-more-line-custom-style":{background:"#e6e6e6"},"loading-more-title-custom-style":{color:"#aaaaaa"},"empty-view-text":t.$t("zp.empty.nodata"),"empty-view-reload-text":t.$t("zp.empty.reload"),"empty-view-error-text":t.$t("zp.empty.error")},on:{query:function(e){arguments[0]=e=t.$handleEvent(e),t.queryList.apply(void 0,arguments)}},model:{value:t.dataList,callback:function(e){t.dataList=e},expression:"dataList"}},[n("v-uni-view",{staticClass:"content_box"},[n("v-uni-view",{staticClass:"list"},t._l(t.dataList,(function(e,i){return n("v-uni-view",{key:i,staticClass:"item",on:{click:function(n){arguments[0]=n=t.$handleEvent(n),t.openVideoDetail(e.video.id)}}},[n("v-uni-view",{staticClass:"img"},[n("v-uni-image",{staticClass:"image",attrs:{src:e.video.image,mode:"aspectFill"}})],1),n("v-uni-view",{staticClass:"info"},[n("v-uni-view",{staticClass:"title u-line-1"},[t._v(t._s(e.video.title))]),n("v-uni-view",{staticClass:"text1 u-line-2"},[t._v(t._s(e.video.description))]),n("v-uni-view",{staticClass:"text2"},[t._v(t._s(t.$t("watch.see"))+t._s(e.episode.name)+" / "+t._s(t.$t("video.total",e.video.episodes)))]),n("v-uni-view",{staticClass:"btns"},[1==t.currentId?n("v-uni-view",{staticClass:"button",class:{collect:1==e.is_favorite},attrs:{"hover-class":"active","hover-start-time":0,"hover-stay-time":200},on:{click:function(n){n.stopPropagation(),arguments[0]=n=t.$handleEvent(n),t.handleCollect(e.vid,e.is_favorite,i)}}},[n("u-icon",{attrs:{name:1==e.is_favorite?"star-fill":"star",color:"#eee",size:"18"}}),n("v-uni-text",{staticClass:"text"},[t._v(t._s(t.$t("watch.collect")))])],1):n("v-uni-view",{staticClass:"button",attrs:{"hover-class":"active","hover-start-time":0,"hover-stay-time":200}},[n("u-icon",{attrs:{name:"play-right-fill",color:"#eee",size:"18"}}),n("v-uni-text",{staticClass:"text"},[t._v(t._s(t.$t("watch.now")))])],1)],1)],1)],1)})),1)],1)],1):t._e()],1)},r=[]},acb6:function(t,e,n){"use strict";n.r(e);var i=n("5153"),a=n.n(i);for(var r in i)["default"].indexOf(r)<0&&function(t){n.d(e,t,(function(){return i[t]}))}(r);e["default"]=a.a},b79a:function(t,e,n){"use strict";n("7a82");var i=n("4ea4").default;Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var a=i(n("5530")),r=i(n("f00c")),o=n("26cb"),s={components:{CustomVideoList:r.default},data:function(){return{contentList:[{id:1,name:"",type:"log"},{id:2,name:"",type:"favorite"}],contentIndex:0}},onShow:function(){this.contentList[0].name=this.$t("watch.history.view"),this.contentList[1].name=this.$t("watch.history.drama")},methods:(0,a.default)((0,a.default)({},(0,o.mapMutations)("user",["setShowLogin"])),{},{tabsChange:function(t){this.contentIndex=t},swiperTransition:function(t){this.$refs.tabs.setDx(t.detail.dx)},swiperChange:function(t){var e=this;setTimeout((function(){e.contentIndex=t.detail.current,e.$refs.tabs.unlockDx()}),100)},swiperAnimationfinish:function(t){}})};e.default=s},c46d:function(t,e,n){var i=n("d6d8");i.__esModule&&(i=i.default),"string"===typeof i&&(i=[[t.i,i,""]]),i.locals&&(t.exports=i.locals);var a=n("4f06").default;a("bb4fddce",i,!0,{sourceMap:!1,shadowMode:!1})},ce76:function(t,e,n){"use strict";n.r(e);var i=n("65ee"),a=n("871e");for(var r in a)["default"].indexOf(r)<0&&function(t){n.d(e,t,(function(){return a[t]}))}(r);n("a4e5");var o=n("f0c5"),s=Object(o["a"])(a["default"],i["b"],i["c"],!1,null,"ae2a9c2a",null,!1,i["a"],void 0);e["default"]=s.exports},d6d8:function(t,e,n){var i=n("24fb");e=i(!1),e.push([t.i,'@charset "UTF-8";\r\n/**\r\n * 这里是uni-app内置的常用样式变量\r\n *\r\n * uni-app 官方扩展插件及插件市场（https://ext.dcloud.net.cn）上很多三方插件均使用了这些样式变量\r\n * 如果你是插件开发者，建议你使用scss预处理，并在插件代码中直接使用这些变量（无需 import 这个文件），方便用户通过搭积木的方式开发整体风格一致的App\r\n *\r\n */\r\n/**\r\n * 如果你是App开发者（插件使用者），你可以通过修改这些变量来定制自己的插件主题，实现自定义主题功能\r\n *\r\n * 如果你的项目同样使用了scss预处理，你也可以直接在你的 scss 代码中使用如下变量，同时无需 import 这个文件\r\n */\r\n/* 颜色变量 */\r\n/* 行为相关颜色 */\r\n/* 文字基本颜色 */\r\n/* 背景颜色 */\r\n/* 边框颜色 */\r\n/* 尺寸变量 */\r\n/* 文字尺寸 */\r\n/* 图片尺寸 */\r\n/* Border Radius */\r\n/* 水平间距 */\r\n/* 垂直间距 */\r\n/* 透明度 */\r\n/* 文章场景相关 */.swiper[data-v-ae2a9c2a]{height:100%}',""]),t.exports=e},f00c:function(t,e,n){"use strict";n.r(e);var i=n("a6d2"),a=n("acb6");for(var r in a)["default"].indexOf(r)<0&&function(t){n.d(e,t,(function(){return a[t]}))}(r);n("3b16");var o=n("f0c5"),s=Object(o["a"])(a["default"],i["b"],i["c"],!1,null,"4a11d360",null,!1,i["a"],void 0);e["default"]=s.exports}}]);