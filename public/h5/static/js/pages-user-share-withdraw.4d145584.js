(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["pages-user-share-withdraw"],{2589:function(t,e,n){"use strict";var a=n("cb19"),i=n.n(a);i.a},"55ff":function(t,e,n){"use strict";n.r(e);var a=n("7d1d"),i=n.n(a);for(var o in a)["default"].indexOf(o)<0&&function(t){n.d(e,t,(function(){return a[t]}))}(o);e["default"]=i.a},"5f18":function(t,e,n){"use strict";n.r(e);var a=n("ce05"),i=n("55ff");for(var o in i)["default"].indexOf(o)<0&&function(t){n.d(e,t,(function(){return i[t]}))}(o);n("2589");var r=n("f0c5"),c=Object(r["a"])(i["default"],a["b"],a["c"],!1,null,"e835b420",null,!1,a["a"],void 0);e["default"]=c.exports},"7d1d":function(t,e,n){"use strict";n("7a82");var a=n("4ea4").default;Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0,n("d81d"),n("4de4"),n("d3b7"),n("a9e3"),n("99af");var i=a(n("5530")),o=n("26cb"),r={data:function(){return{global:getApp().globalData,buttonStyle:{width:"100%",height:"108rpx",border:"none",fontSize:"32rpx",color:"#fff",borderRadius:"16rpx",margin:"0",fontWeight:"bold"},buttonStyleDisable:{width:"200rpx",height:"80rpx",border:"none",fontSize:"24rpx",color:"#fff",background:"#E0E0E0",borderRadius:"14rpx",margin:"0",fontWeight:"bold"},buttonStylePopup:{width:"200rpx",height:"80rpx",border:"none",fontSize:"24rpx",color:"#fff",background:"#EE7F33",borderRadius:"14rpx",margin:"0",fontWeight:"bold"},buttonLoading:!1,types:[],typePicker:!1,typeText:"",params:{type:"",money:"",currency:"",platform:this.$utils.platforms()},recordData:[],page:1,currencys:[],currencyPicker:!1,converMoney:0,withdrawPopup:!1,exObj:{}}},computed:(0,i.default)((0,i.default)({},(0,o.mapGetters)("user",["userInfo"])),(0,o.mapGetters)("app",["lang"])),watch:{"userInfo.money":{deep:!0,handler:function(){this.exchangeCurrency()}}},onLoad:function(){this.withdrawRule(),this.recordList(),this.getCurrencyType()},methods:(0,i.default)((0,i.default)({},(0,o.mapActions)("user",["getUserInfo"])),{},{getCurrencyType:function(){var t=this;this.$request("language.list").then((function(e){if(1===e.code){t.currencys=e.data.map((function(t){var e=t.currency,n=t.lang;return{currency:e,lang:n}}));t.currencys.filter((function(e){return e.lang==t.lang}))[0].currency;t.params.currency=t.currencys.filter((function(e){return e.lang==t.lang}))[0].currency,t.exchangeCurrency()}}))},exchangeCurrency:function(){var t=this,e={currency:this.params.currency,money:this.userInfo.money};this.$request("withdraw.exchange",e).then((function(e){1===e.code&&(t.converMoney=e.data.pay_money)}))},withdrawRule:function(){var t=this;this.$request("withdraw.rule").then((function(e){1===e.code&&(t.types=e.data.methods,t.typeText=t.types[0].name,t.params.type=t.types[0].type)}))},scrollBottom:function(){this.page++,this.recordList()},timestampToTime:function(t){var e=new Date(1e3*t),n=e.getMonth()+1,a=e.getHours();a<10&&(a="0"+a);var i=e.getMinutes();i<10&&(i="0"+i);var o=e.getFullYear()+"-"+n+"-"+e.getDate()+" "+a+":"+i;return o},withdrawHandle:function(){var t=this,e=Number(this.params.money);if(e){var n={currency:this.params.currency,pay_money:this.params.money};this.$request("withdraw.exchange",n).then((function(e){1===e.code&&(t.exObj=e.data,t.withdrawPopup=!0)}))}else this.$u.toast(this.$t("text.input.withdraw"))},withdrawConfirm:function(){var t=this,e=this.params,n=e.type,a=e.currency,i=e.platform,o=this.exObj.money,r={type:n,money:o,currency:a,platform:i};this.buttonLoading=!0,this.$request("withdraw.apply",r).then((function(e){1===e.code&&(t.$u.toast(e.msg),t.params.money="",t.page=1,t.recordList(),t.recordData=[],t.getUserInfo()),t.buttonLoading=!1,t.withdrawPopup=!1})).catch((function(e){t.buttonLoading=!1,t.withdrawPopup=!1}))},recordList:function(){var t=this;this.$request("withdraw.record",{page:this.page}).then((function(e){1===e.code&&(e.data.data&&e.data.data.length?t.recordData=t.recordData.concat(e.data.data):t.page--)}))},selectedType:function(t){this.params.type=t.value[0].type,this.typeText=t.value[0].name,this.typePicker=!1},selectedCurrency:function(t){this.params.currency=t.value[0].currency,this.currencyPicker=!1,this.exchangeCurrency()}})};e.default=r},b28a:function(t,e,n){var a=n("24fb");e=a(!1),e.push([t.i,'@charset "UTF-8";\r\n/**\r\n * 这里是uni-app内置的常用样式变量\r\n *\r\n * uni-app 官方扩展插件及插件市场（https://ext.dcloud.net.cn）上很多三方插件均使用了这些样式变量\r\n * 如果你是插件开发者，建议你使用scss预处理，并在插件代码中直接使用这些变量（无需 import 这个文件），方便用户通过搭积木的方式开发整体风格一致的App\r\n *\r\n */\r\n/**\r\n * 如果你是App开发者（插件使用者），你可以通过修改这些变量来定制自己的插件主题，实现自定义主题功能\r\n *\r\n * 如果你的项目同样使用了scss预处理，你也可以直接在你的 scss 代码中使用如下变量，同时无需 import 这个文件\r\n */\r\n/* 颜色变量 */\r\n/* 行为相关颜色 */\r\n/* 文字基本颜色 */\r\n/* 背景颜色 */\r\n/* 边框颜色 */\r\n/* 尺寸变量 */\r\n/* 文字尺寸 */\r\n/* 图片尺寸 */\r\n/* Border Radius */\r\n/* 水平间距 */\r\n/* 垂直间距 */\r\n/* 透明度 */\r\n/* 文章场景相关 */.page_content[data-v-e835b420]{background:#f9f9f9}.page_content[data-v-e835b420]::before{content:"";width:100%;height:%?420?%;background:var(--bgcolor);position:absolute;top:0;left:0}.page_content .main_content[data-v-e835b420]{overflow:hidden;padding:%?24?% %?40?% 0 %?40?%;display:flex;flex-direction:column}.page_content .main_content .top_card[data-v-e835b420]{position:relative;border-radius:%?20?%;background:#fff;padding:%?40?%;font-weight:700}.page_content .main_content .top_card .line1[data-v-e835b420]{display:flex;align-items:center;justify-content:space-between;margin-bottom:%?20?%}.page_content .main_content .top_card .line1 .left[data-v-e835b420]{font-size:%?32?%;color:#000}.page_content .main_content .top_card .line1 .right[data-v-e835b420]{font-size:%?24?%;color:#2e2e2e;display:flex;align-items:center}.page_content .main_content .top_card .line1 .right .image[data-v-e835b420]{width:%?32?%;margin-right:%?20?%}.page_content .main_content .top_card .line2[data-v-e835b420]{display:flex;align-items:center;padding:%?20?% 0;border-bottom:%?2?% solid #ddd}.page_content .main_content .top_card .line2 .text[data-v-e835b420]{font-size:%?28?%;color:#666}.page_content .main_content .top_card .line2 .input[data-v-e835b420]{width:100%;font-size:%?28?%;color:#000}.page_content .main_content .top_card .line3[data-v-e835b420]{display:flex;align-items:center;justify-content:space-between;margin:%?40?% 0}.page_content .main_content .top_card .line3 .left[data-v-e835b420]{font-size:%?32?%;color:#000}.page_content .main_content .top_card .line3 .right[data-v-e835b420]{font-size:%?24?%;color:#feb787}.page_content .main_content .content_box[data-v-e835b420]{flex:1;overflow:hidden;display:flex;flex-direction:column}.page_content .main_content .content_box .title[data-v-e835b420]{font-size:%?32?%;font-weight:700;color:#272d2f;padding:%?20?% 0}.page_content .main_content .content_box .block_box[data-v-e835b420]{flex:1;overflow:hidden}.page_content .main_content .content_box .block_box .scroll_view[data-v-e835b420]{height:100%}.page_content .main_content .content_box .block_box .scroll_view .scroll_content[data-v-e835b420]{padding-bottom:%?60?%}.page_content .main_content .content_box .list_box .item[data-v-e835b420]{padding:%?40?% 0;border-bottom:%?2?% solid #f0f0f0;display:flex;align-items:center;justify-content:space-between}.page_content .main_content .content_box .list_box .item .left[data-v-e835b420]{display:flex;align-items:center}.page_content .main_content .content_box .list_box .item .left .photo[data-v-e835b420]{width:%?100?%;height:%?100?%;border-radius:%?20?%;background:#fff;box-shadow:0 0 %?60?% 0 hsla(0,0%,79.2%,.3);overflow:hidden;display:flex;align-items:center;justify-content:center}.page_content .main_content .content_box .list_box .item .left .photo .image[data-v-e835b420]{width:%?60?%}.page_content .main_content .content_box .list_box .item .left .info[data-v-e835b420]{margin-left:%?40?%}.page_content .main_content .content_box .list_box .item .left .info .text1[data-v-e835b420]{font-size:%?28?%;font-weight:700;color:#272d2f;margin-bottom:%?12?%}.page_content .main_content .content_box .list_box .item .left .info .text2[data-v-e835b420]{font-size:%?24?%;color:#a5acb6;margin-top:%?8?%}.page_content .main_content .content_box .list_box .item .left .info .text3[data-v-e835b420]{font-size:%?24?%;color:#272d2f}.page_content .main_content .content_box .list_box .item .right[data-v-e835b420]{font-size:%?28?%;font-weight:700;color:#000;white-space:nowrap}.page_content .main_content .content_box .list_box .item .right.type1[data-v-e835b420]{color:#512569}.page_content .main_content .content_box .be_empty[data-v-e835b420]{font-size:%?28?%;color:#999;text-align:center;padding:%?40?% 0}.page_content .main_content .withdraw_popup[data-v-e835b420]{width:80vw;padding:%?40?%}.page_content .main_content .withdraw_popup .title_box[data-v-e835b420]{font-size:%?32?%;font-weight:700;margin-bottom:%?30?%}.page_content .main_content .withdraw_popup .text_box .line[data-v-e835b420]{font-size:%?28?%;margin-top:%?16?%;color:#272d2f}.page_content .main_content .withdraw_popup .button_box[data-v-e835b420]{margin-top:%?70?%;display:flex;align-items:center;justify-content:space-between}',""]),t.exports=e},cb19:function(t,e,n){var a=n("b28a");a.__esModule&&(a=a.default),"string"===typeof a&&(a=[[t.i,a,""]]),a.locals&&(t.exports=a.locals);var i=n("4f06").default;i("ffdfb176",a,!0,{sourceMap:!1,shadowMode:!1})},ce05:function(t,e,n){"use strict";n.d(e,"b",(function(){return i})),n.d(e,"c",(function(){return o})),n.d(e,"a",(function(){return a}));var a={uButton:n("5e97").default,uPicker:n("93e4").default,uPopup:n("5fa0").default},i=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("v-uni-view",{staticClass:"page_content",style:{"--bgcolor":t.global.isBgColor}},[n("v-uni-view",{staticClass:"head_content"},[n("CustomNavbar",{attrs:{title:t.$t("navbar.withdraw"),color:"#fff"}})],1),n("v-uni-view",{staticClass:"main_content"},[n("v-uni-view",{staticClass:"top_card"},[t.converMoney?n("v-uni-view",{staticClass:"line3"},[n("v-uni-view",{staticClass:"left"},[t._v(t._s(Number(t.userInfo.money)+" "+t.$t("text.integral")+" ≈ "+Number(t.converMoney)+" "+t.params.currency))]),n("v-uni-view",{staticClass:"right"})],1):t._e(),n("v-uni-view",{staticClass:"line1"},[n("v-uni-view",{staticClass:"left"},[t._v(t._s(t.$t("withdraw.amount")))]),n("v-uni-view",{staticClass:"right",on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.jumpView("/pages/user/share/payee")}}},[n("v-uni-image",{staticClass:"image",attrs:{src:"https://img.nymaite.com/video_short/icons/setting.png",mode:"widthFix"}}),n("v-uni-text",[t._v(t._s(t.$t("withdraw.collection")))])],1)],1),n("v-uni-view",{staticClass:"line2"},[n("v-uni-text",{staticClass:"text"}),n("v-uni-input",{staticClass:"input",attrs:{type:"number",placeholder:t.$t("text.input.withdraw"),"placeholder-class":"placeholder"},model:{value:t.params.money,callback:function(e){t.$set(t.params,"money",e)},expression:"params.money"}})],1),n("v-uni-view",{staticClass:"line3"},[n("v-uni-view",{staticClass:"left"},[t._v(t._s(t.$t("withdraw.to")))]),n("v-uni-view",{staticClass:"right",style:"color:"+t.global.isColor,on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.typePicker=!0}}},[t._v(t._s(t.typeText)+" >")])],1),n("v-uni-view",{staticClass:"line3"},[n("v-uni-view",{staticClass:"left"},[t._v(t._s(t.$t("withdraw.currency")))]),n("v-uni-view",{staticClass:"right",style:"color:"+t.global.isColor,on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.currencyPicker=!0}}},[t._v(t._s(t.params.currency)+" >")])],1),n("v-uni-view",{staticClass:"line4"},[n("u-button",{attrs:{text:t.$t("text.confirm"),customStyle:Object.assign({},t.buttonStyle,{background:t.global.isBgColor})},on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.withdrawHandle.apply(void 0,arguments)}}})],1),n("u-picker",{attrs:{show:t.typePicker,columns:[t.types],keyName:"name",cancelText:t.$t("text.cancel"),confirmText:t.$t("text.confirm"),confirmColor:"#EE7F33",closeOnClickOverlay:!0},on:{close:function(e){arguments[0]=e=t.$handleEvent(e),t.typePicker=!1},cancel:function(e){arguments[0]=e=t.$handleEvent(e),t.typePicker=!1},confirm:function(e){arguments[0]=e=t.$handleEvent(e),t.selectedType.apply(void 0,arguments)}}}),n("u-picker",{attrs:{show:t.currencyPicker,columns:[t.currencys],keyName:"currency",cancelText:t.$t("text.cancel"),confirmText:t.$t("text.confirm"),confirmColor:"#EE7F33",closeOnClickOverlay:!0},on:{close:function(e){arguments[0]=e=t.$handleEvent(e),t.currencyPicker=!1},cancel:function(e){arguments[0]=e=t.$handleEvent(e),t.currencyPicker=!1},confirm:function(e){arguments[0]=e=t.$handleEvent(e),t.selectedCurrency.apply(void 0,arguments)}}})],1),n("v-uni-view",{staticClass:"content_box"},[n("v-uni-view",{staticClass:"title"},[t._v(t._s(t.$t("withdraw.record")))]),n("v-uni-view",{staticClass:"block_box"},[n("v-uni-scroll-view",{staticClass:"scroll_view",attrs:{"scroll-y":!0},on:{scrolltolower:function(e){arguments[0]=e=t.$handleEvent(e),t.scrollBottom.apply(void 0,arguments)}}},[n("v-uni-view",{staticClass:"scroll_content"},[t.recordData.length?n("v-uni-view",{staticClass:"list_box"},t._l(t.recordData,(function(e,a){return n("v-uni-view",{key:a,staticClass:"item"},[n("v-uni-view",{staticClass:"left"},[n("v-uni-view",{staticClass:"photo"},[n("v-uni-image",{staticClass:"image",attrs:{src:"https://img.nymaite.com/video_short/icons/vip.png",mode:"widthFix"}})],1),n("v-uni-view",{staticClass:"info"},[n("v-uni-view",{staticClass:"text1"},[t._v(t._s(Number(e.money)+Number(e.charge_money)+" ("+e.apply_type_text+")"))]),n("v-uni-view",{staticClass:"text3"},[n("v-uni-text",[t._v(t._s(t.$t("withdraw.currency"))+"：")]),n("v-uni-text",[t._v(t._s(e.currency))])],1),n("v-uni-view",{staticClass:"text3"},[n("v-uni-text",[t._v(t._s(t.$t("withdraw.integral"))+"：")]),n("v-uni-text",[t._v(t._s(Number(e.money))+" "+t._s(t.$t("text.integral")))])],1),n("v-uni-view",{staticClass:"text3"},[n("v-uni-text",[t._v(t._s(t.$t("withdraw.service"))+"：")]),n("v-uni-text",[t._v(t._s(Number(e.charge_money))+" "+t._s(t.$t("text.integral"))+"（"+t._s(100*Number(e.service_fee))+"%）")])],1),n("v-uni-view",{staticClass:"text3"},[n("v-uni-text",[t._v(t._s(t.$t("withdraw.proceeds"))+"：")]),n("v-uni-text",[t._v(t._s(e.pay_money)+" "+t._s(e.currency))])],1),n("v-uni-view",{staticClass:"text2"},[t._v(t._s(t.timestampToTime(e.createtime)))])],1)],1),n("v-uni-view",{staticClass:"right"},[t._v(t._s(e.status_text))])],1)})),1):n("v-uni-view",{staticClass:"be_empty"},[t._v(t._s(t.$t("withdraw.not.record")))])],1)],1),n("u-popup",{attrs:{show:t.withdrawPopup,mode:"center",round:20,closeable:!0,closeOnClickOverlay:!1},on:{close:function(e){arguments[0]=e=t.$handleEvent(e),t.withdrawPopup=!1}}},[n("v-uni-view",{staticClass:"withdraw_popup"},[n("v-uni-view",{staticClass:"title_box"},[t._v(t._s(t.$t("withdraw.confirm")))]),n("v-uni-view",{staticClass:"text_box"},[n("v-uni-view",{staticClass:"line"},[n("v-uni-text",{staticClass:"label"},[t._v(t._s(t.$t("withdraw.currency"))+"：")]),n("v-uni-text",[t._v(t._s(t.params.currency))])],1),n("v-uni-view",{staticClass:"line"},[n("v-uni-text",{staticClass:"label"},[t._v(t._s(t.$t("withdraw.exchange"))+"：")]),n("v-uni-text",[t._v("1 "+t._s(t.params.currency)+" = "+t._s(t.exObj.exchange_rate)+" "+t._s(t.$t("text.integral")))])],1),n("v-uni-view",{staticClass:"line"},[n("v-uni-text",{staticClass:"label"},[t._v(t._s(t.$t("withdraw.type"))+"：")]),n("v-uni-text",[t._v(t._s(t.typeText))])],1),n("v-uni-view",{staticClass:"line"},[n("v-uni-text",{staticClass:"label"},[t._v(t._s(t.$t("withdraw.integral"))+"：")]),n("v-uni-text",[t._v(t._s(t.exObj.money)+" "+t._s(t.$t("text.integral")))])],1),n("v-uni-view",{staticClass:"line"},[n("v-uni-text",{staticClass:"label"},[t._v(t._s(t.$t("withdraw.service"))+"：")]),n("v-uni-text",[t._v(t._s(t.exObj.charge_money)+" "+t._s(t.$t("text.integral"))+"（"+t._s(100*Number(t.exObj.service_fee))+"%）")])],1),n("v-uni-view",{staticClass:"line"},[n("v-uni-text",{staticClass:"label"},[t._v(t._s(t.$t("withdraw.proceeds"))+"：")]),n("v-uni-text",[t._v(t._s(t.exObj.pay_money)+" "+t._s(t.params.currency))])],1)],1),n("v-uni-view",{staticClass:"button_box"},[n("u-button",{attrs:{text:t.$t("text.cancel"),customStyle:t.buttonStyleDisable},on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.withdrawPopup=!1}}}),n("u-button",{attrs:{text:t.$t("text.confirm"),customStyle:t.buttonStylePopup,loading:t.buttonLoading},on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.withdrawConfirm.apply(void 0,arguments)}}})],1)],1)],1)],1)],1)],1)],1)},o=[]}}]);